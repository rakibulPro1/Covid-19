<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covid-19 Info</title>
    <link rel="icon" href="./img/favicon.png"/>
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/258677c3df.js" crossorigin="anonymous"></script>
    <link href="./jqvmap/dist/jqvmap.css" media="screen" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="./img/logo.png" alt="logo" class="logo">
                <span class="website_name">Covtrack</span>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link mr-4" href="index.html">
                            <i class="fas fa-tachometer-alt mr-2"></i>
                            Dashboard
                        </a>
                    </li>
                    
                    <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-globe-americas mr-2"></i>
                        Continent
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="world.html">World</a>
                        <a class="dropdown-item" href="asia.html">Asia</a>
                        <a class="dropdown-item" href="europe.html">Europe</a>
                        <a class="dropdown-item" href="africa.html">Africa</a>
                        <a class="dropdown-item" href="australia.html">Australia</a>
                        <a class="dropdown-item" href="south-america.html">South America</a>
                        <a class="dropdown-item" href="north-america.html">North America</a>
                    </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <p class="my-4 updated_time">Last Update: <span class="time" id="time"></span></p>
        <div class="row">
            <div class="col-xl-5 col-lg-12">
                <div class="row">
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <div class="world-widget d-flex">
                            <div class="icon gradient-1">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <h5>Total Cases</h5>
                                <h2 id="total_cases">00</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <div class="world-widget d-flex ">
                            <div class="icon gradient-9">
                                <i class="fas fa-procedures"></i>
                            </div>
                            <div>
                                <h5>Total Death</h5>
                                <h2 id="total_deaths">00</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <div class="world-widget d-flex">
                            <div class="icon gradient-4">
                                <i class="fas fa-child"></i>
                            </div>
                            <div>
                                <h5>Total Recovered</h5>
                                <h2 id="total_recovered">00</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <div class="world-widget d-flex">
                            <div class="icon gradient-3">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div>
                                <h5>New Cases</h5>
                                <h2 id="new_cases">00</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <div class="world-widget d-flex">
                            <div class="icon gradient-12">
                                <i class="fas fa-bed"></i>
                            </div>
                            <div>
                                <h5>New Death</h5>
                                <h2 id="new_deaths">00</h2>
                            </div>
                        </div>
                        <div class="world-widget d-flex">
                            <div class="icon gradient-5">
                                <i class="fas fa-medkit"></i>
                            </div>
                            <div>
                                <h5>Helpline</h5>
                                <h2>999</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col">
                        <canvas id="myChart" width="400" height="400"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-xl-7 col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div id="vmap" style="height: 420px"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Top Result -->
        <div class="row mt-5">
            <li id="master_list" class="d-none">
                <img class="flag" src="https://disease.sh/assets/img/flags/mx.png" alt="country" width="30">
                <span class="country">Span</span>
                <span class="count">40340</span>
            </li>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Top Cases</h4>
                    <ul id="top_cases"></ul>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Today Cases</h4>
                    <ul id="today_cases"></ul>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Top Deaths</h4>
                    <ul id="top_deaths"></ul>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Today Death</h4>
                    <ul id="today_deaths"></ul>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Top Actived</h4>
                    <ul id="top_actived"></ul>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-4 col-sm-6">
                <div class="country-statistics">
                    <h4>Top Recovered</h4>
                    <ul id="top_recovered"></ul>
                </div>
            </div>
        </div>
        <!-- Data Table -->
        
        <div class="card my-5 data_table">
            <div class="card-header bg-none">
                <h4 class="ml-3">All Country</h4>
            </div>
            <div class="card-body">
                <table id="dataTable" class="display" width="100%"></table>
            </div>
        </div>

        <footer class="d-flex mt-4 mb-2">
            <p>Developed by Rakibul islam</p>
            <div class="ml-auto">
                <a href="https://facebook.com/S.R.ShuvaDev1"><i class="fab fa-facebook"></i></a></i>
                <a href="https://facebook.com/S.R.ShuvaDev1"><i class="fab fa-youtube"></i></a></i>
                <a href="https://facebook.com/S.R.ShuvaDev1"><i class="fab fa-github"></i></a></i>
            </div>
        </footer>
    </div>

    <div id="hoverMapInfo" class="m-0 p-5 d-none">
        <img src="https://disease.sh/assets/img/flags/bd.png" width="30" id="flag">
        <span id="cName">Bangladesh</span>
        <p class="p-0 m-0">Cases: <span id="cases">200</span></p>
        <p class="p-0 m-0">Death: <span id="death">200</span></p>
        <p class="p-0 m-0">Active: <span id="active">200</span></p>
        <p class="p-0 m-0">Recovered: <span id="recovered">500</span></p>
    </div>

    <script src="./jqvmap/dist/jquery.min.js"></script>
    <script src="./jqvmap/dist/jquery.vmap.js"></script>
    <script src="./jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="./bootstrap/js/propper.min.js"></script>
    <script src="./bootstrap/js/bootstrap.min.js"></script>
    <script src="./jqvmap/dist/lgdData.js"></script>
    <script src="./chart/chart.bundle.min.js"></script>
    <script src="./chart/chart.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./app.js"></script>
    <script>
        let hoverMapInfo = document.getElementById('hoverMapInfo')
        let death = document.getElementById('death')
        let flag = document.getElementById('flag')
        let cases = document.getElementById('cases')
        let active = document.getElementById('active')
        let recovered = document.getElementById('recovered')
        let cName = document.getElementById('cName')
        function mapData(data) {
                hoverMapInfo.className = 'p-1'
                cases.innerText = data.cases
                death.innerText = data.deaths
                active.innerText = data.active
                recovered.innerText = data.recovered
                flag.src = data.countryInfo.flag
                cName.innerText = data.country
            }
            jQuery('#vmap').vectorMap({
                map: 'world_en',
                backgroundColor: '#fff',
                color: '#000',
                hoverOpacity: 0.7,
                selectedColor: '#7B6FFF',
                enableZoom: true,
                showTooltip: true,
                values: lgdData,
                scaleColors: ['#D60000', '#780000'],
                normalizeFunction: 'polynomial',
                onLabelShow: function(_, label, code) {
                    axios.get(`https://disease.sh/v2/countries/${code}`)
                    .then(res => {
                        label[0].innerText = '';
                        label[0].innerHTML = '';
                        mapData(res.data)
                        label.append(hoverMapInfo)
                    })
                }
            });
    </script>
    
</body>
</html>